import{u as e,r as a,j as s}from"./react-vendor-2SZXphvN.js";import{S as l}from"./SEO-CLq8vwqd.js";/* empty css                   */import"./vendor-invariant-BME_2b6A.js";import"./vendor-shallowequal-CcIhOdxx.js";import"./vendor-scheduler-BVKd3TJG.js";import"./vendor-@remix-run-BWfEV5os.js";const n=()=>{const n=e(),[t,c]=a.useState([]),[r,i]=a.useState(!0),[d,o]=a.useState("");return a.useEffect(()=>{(async()=>{try{i(!0),o("");const e=await fetch("http://localhost:8080/api/contracts");if(!e.ok)return o("Sözleşmeler yüklenirken bir hata oluştu"),void i(!1);const a=await e.json();a.isSuccess||a.success?c(a.data||[]):o(a.message||"Sözleşmeler yüklenemedi")}catch(e){o("Sözleşmeler yüklenirken bir hata oluştu")}finally{i(!1)}})()},[]),r?s.jsx("div",{className:"legal-page",children:s.jsx("div",{className:"legal-container",children:s.jsx("div",{className:"legal-loading",children:s.jsx("p",{children:"Yükleniyor..."})})})}):d?s.jsx("div",{className:"legal-page",children:s.jsx("div",{className:"legal-container",children:s.jsxs("div",{className:"legal-error",children:[s.jsx("h1",{children:"Hata"}),s.jsx("p",{children:d}),s.jsx("button",{onClick:()=>n("/"),className:"btn btn-primary",children:"Ana Sayfaya Dön"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(l,{title:"Sözleşmeler - Hiedra Home",description:"Tüm sözleşmeleri görüntüleyin ve onaylayın"}),s.jsx("div",{className:"legal-page",children:s.jsxs("div",{className:"legal-container",children:[s.jsxs("div",{className:"legal-header",children:[s.jsx("h1",{children:"Sözleşmeler"}),s.jsx("p",{children:"Lütfen aşağıdaki sözleşmeleri okuyun ve onaylayın"})]}),0===t.length?s.jsx("div",{className:"contracts-empty",children:s.jsx("p",{children:"Henüz sözleşme bulunmamaktadır."})}):s.jsx("div",{className:"contracts-list",children:t.map(e=>s.jsxs("div",{className:"contract-card",onClick:()=>n("/sozlesme/"+e.id),children:[s.jsx("h2",{className:"contract-title",children:e.title}),s.jsxs("div",{className:"contract-meta",children:[e.type&&s.jsxs("p",{className:"contract-meta-item",children:[s.jsx("span",{className:"contract-meta-label",children:"Tür:"})," ",e.type]}),e.updatedAt&&s.jsxs("p",{className:"contract-meta-item",children:[s.jsx("span",{className:"contract-meta-label",children:"Son Güncelleme:"})," ",new Date(e.updatedAt).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"})]})]}),s.jsx("div",{className:"contract-actions",children:s.jsx("button",{className:"btn btn-primary contract-view-btn",onClick:a=>{a.stopPropagation(),n("/sozlesme/"+e.id)},children:"Sözleşmeyi Görüntüle"})})]},e.id))}),s.jsx("div",{className:"legal-footer",children:s.jsx("button",{onClick:()=>n("/"),className:"btn btn-secondary",children:"Ana Sayfaya Dön"})})]})})]})};export{n as default};
